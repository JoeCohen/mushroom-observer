<%
  @title = :app_advanced_search.t
%>

<div class="max-width-text">
  <p class="help-block"><%= :advanced_search_caveat.t %></p>

  <%= form_tag(action: :advanced_search_form) do %>

    <div class="form-group">
      <%= label_tag(:search_type, :advanced_search_result_type.t + ":") %>
      <span class="help"><%= :advanced_search_result_type_help.t %></span><br/>
      <%= select(:search, :type, [
                                   [:OBSERVATIONS.l, :observation],
                                   [:IMAGES.l, :image],
                                   [:LOCATIONS.l, :location],
                                   [:NAMES.l, :name],
                                 ]) %>
    </div>

    <div class="form-group">
      <%= label_tag(:search_name, :NAME.t + ":") %>
      <span class="help"><%= :advanced_search_name_help.t %></span>
      <%= text_field(:search, :name, class: "form-control") %>
      <% turn_into_name_auto_completer(:search_name, primer: Name.primer,
                                       token: " OR ") %>
    </div>

    <div class="form-group">
      <%= label_tag(:search_user, :OBSERVER.t + ":") %>
      <span class="help"><%= :advanced_search_observer_help.t %></span>
      <%= text_field(:search, :user, class: "form-control") %>
      <% turn_into_user_auto_completer(:search_user, primer: User.primer,
                                       token: " OR ") %>
    </div>

    <div class="form-group">
      <%= label_tag(:search_location, :LOCATION.t + ":") %>
      <span class="help"><%= :advanced_search_location_help.t %></span>
      <%= text_field(:search, :location, class: "form-control") %>
      <% turn_into_location_auto_completer(:search_location,
                                           primer: Location.primer,
                                           token: " OR ") %>
    </div>

    <div class="form-group">
      <%= label_tag(:search_content, :advanced_search_content.t + ":") %>
      <span class="help"><%= :advanced_search_content_help.t %></span>
      <%= text_field(:search, :content, class: "form-control") %>
      <p class="help-block"><%= :advanced_search_content_notes.t %></p>
    </div>

    <!-- Filters Settings of Advanced Search Form -->
    <div id="advanced_search_filters">
      <div class="form-group">
        <div class="push-down">
          <span class="bold"><%= :advanced_search_filters.t %></span>
          <p><%= :advanced_search_filters_explain.t %>.<p>
        </div>
        <div class = "indent">
          <span class="bold"><%= :prefs_obs_filters.t %></span>
          (<%= :prefs_obs_filters_explanation.t %>)<br/>

<!--
          <%= label_tag(:filter_has_images,
                        :advanced_search_filter_has_images.t + ":") %>
          <%= select(:search, :has_images,
                     [[:advanced_search_filter_has_images_both.l,        "off"],
                      [:advanced_search_filter_has_images_imaged.t, "NOT NULL"],
                      [:advanced_search_filter_has_images_imageless.t,  "NULL"]],
                     selected: "off") %>
-->
          <%= :advanced_search_filter_has_images.t %>.<br/>
          <%= radio_button(:search, :has_images, "NOT NULL") %>
          <%= :advanced_search_filter_has_images_imaged.l %>.<br/>
          <%= radio_button(:search, :has_images, "NULL") %>
          <%= :advanced_search_filter_has_images_imageless.l %>.<br/>
          <%= radio_button(:search, :has_images, "off", checked: true) %>
          <%= :advanced_search_filter_has_images_both.l %>.<br/>

        </div>
      </div>
    </div>
    <%= submit_tag(:SEARCH.l, class: "btn center-block") %>
  <% end %>
</div>
